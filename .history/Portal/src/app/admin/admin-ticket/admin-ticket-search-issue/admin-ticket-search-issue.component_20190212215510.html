<p>
  admin-ticket-search-issue works!
</p>
<!-- <a href="javascript:history.back()">Go Back</a>

  <div class="card">
    <div class="card-header">
        <div class="card-title">
            <div class="title">Search by Issue</div>
        </div>
    </div>
    <div class="card-body">
        <form class="form-horizontal" (ngSubmit)="onSubmit()"> -->

            <!-- <div class="form-group">
                <div class="col-sm-4">
                    <select class="form-control" name="issue" #issue="ngModel" [(ngModel)]="tickets" placeholder="Select">
                            <option value="General">General</option>
                            <option value="Billing">Billing</option>
                            <option value="Shipping">Shipping</option>
                            <option value="Online">Online</option>
                            <option value="Other">Other</option>
                    </select>
                    <button type="submit" class="btn btn-md btn-block btn-warning">Search by Issue</button> 
                </div>

            </div>
         </form> 
    </div>
</div> -->

<!-- 
<div>
    <label>Select Resolution: </label>
    <select>
        <option value="0">--All--</option>

        <option value="General">General</option>
        <option value="Billing">Billing</option>
        <option value="Shipping">Shipping</option>
        <option value="Online">Online</option>
        <option value="Other">Other</option>

    </select>
</div> -->



<!-- <div class="container">

  <select [(ngModel)]="filter.issue" placeholder="Select">
      <option value="General">General</option>
      <option value="Billing">Billing</option>
      <option value="Shipping">Shipping</option>
      <option value="Online">Online</option>
      <option value="Other">Other</option>
</select>  

</div>
<div class="row container">
  <ul class="col-xs-6">
    <li class="list-group-item" 
      *ngFor="let ticket of tickets"

      (click)="select(ticket)">
      
      {{ticket.issue}}
      
    </li>
  </ul>


</div> -->
<!-- 
<div class="card-body">

  <table datatable="ng"  class="row-border hover">
      <thead>
      <tr>
          <th>resolution</th>
          <th>status</th>
          <th>Application</th>
          <th>dateSubmitted</th>
          <th>user</th>
          <th>ticketId</th>
          <th>issue</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="x in dtOptions">
          <td><b><u><a href="/ticket/detail/{{x.ticketId}}/">{{x.ticketId}}</a></u></b></td>
          <td>{{x.resolution}}</td>
          <td>{{x.status}}</td>
          <td>{{x.dateSubmitted}}</td>
          <td>{{x.user}}</td>
          <td>{{x.ticketId}}</td>
          <td>{{x.issue}}</td>
      </tr>

      </tbody>
  </table>
</div> -->


<!-- 
<table datatable [dtOptions]="dtOptions"   class="row-border hover">
  <thead>
  <tr>
      <th>ID</th>
      <th>Title</th>
      <th>Application</th>
      <th>Type</th>
      <th>Status</th>
      <th>Priority</th>
      <th>Reported Date</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let ticket of tickets">
      <td><b><u><a href="/ticket/detail/{{x.ticketId}}/">{{x.ticketId}}</a></u></b></td>
      <td>{{x.resolution}}</td>
      <td>{{x.status}}</td>
      <td>{{x.dateSubmitted}}</td>
      <td>{{x.dateUpdate}}</td>
      <td>{{x.user}}</td>
      <td>{{x.issue}}</td>
  </tr>

  </tbody>
</table> -->
 <!-- <table datatable class="table row-border hover" *ngIf="tickets">
  <thead>
    <tr>
      <th>Resolution</th>
      <th>Status</th>
      <th>Date Submitted</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let ticket of this.tickets">
      <td>{{ticket.resolution}}</td>
      <td>{{ticket.status}}</td>
      <td>{{ticket.dateSubmitted}}</td>
    </tr>
  </tbody>
</table>  -->

 <!-- <table id='table' datatable [dtOptions]="dtOptions" class="row-border hover">
  <tfoot>
    <tr>
      <th><input type="text" placeholder="Search ID" name="search-id"/></th>
      <th><input type="text" placeholder="Search first name" name="search-first-name"/></th>
      <th><input type="text" placeholder="Search last name" name="search-last-name"/></th>
    </tr>
  </tfoot>
</table>  -->

<!-- <table id='table' datatable [dtOptions]="dtOptions" class="row-border hover">
  <tfoot>
    <tr>
      <th><input type="text" placeholder="Search ID" name="search-id"/></th>
      <th><input type="text" placeholder="Search first name" name="search-first-name"/></th>
      <th><input type="text" placeholder="Search last name" name="search-last-name"/></th>
    </tr>
  </tfoot>
</table> 


<div class="container">
  <h1>Ticket list</h1>
  
  <table class="table table-hover" cellspacing="0">
    <thead>
      <tr>
        <th>resolution</th>
        <th>status</th>
        <th>dateSubmitted</th>
        <th>ticketId</th>
        <th>issue</th>
        <th>description</th>
        <th>submittedBy</th>
        <th>priority</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let ticket of tickets">
        <td>{{ticket.resolution}}</td>
        <td>{{ticket.status}}</td>
        <td>{{ticket.dateSubmitted}}</td>
        <td>{{ticket.ticketId}}</td>
        <td>{{ticket.issue}}</td>
        <td>{{ticket.description}}</td>
        <td>{{ticket.submittedBy}}</td>
        <td>{{ticket.priority}}</td>
      </tr>
    </tbody>
  </table>
</div> -->


<!-- 

<mat-table class="lessons-table mat-elevation-z8">
  
  <tr *ngFor="let ticket of tickets">
  <ng-container matColumnDef="resolution">
      <div *matHeaderCellDef>resolution</div>
      <div *matCellDef="let row">{{ticket.resolution}}</div>
  </ng-container>

  <ng-container matColumnDef="status">
      <div *matHeaderCellDef>status</div>
      <div class="description-cell"
                *matCellDef="let row">{{ticket.status}}</div>
  </ng-container>

  <ng-container matColumnDef="dateSubmitted">
      <div *matHeaderCellDef>dateSubmitted</div>
      <div class="dateSubmitted-cell"
                *matCellDef="let row">{{ticket.dateSubmitted}}</div>
  </ng-container>
  
  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  
  <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </tr>
</mat-table> -->


<!-- 
<div>

  <table id="table" class="row-border hover">
    <thead>
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Application</th>
        <th>Type</th>
        <th>Status</th>
        <th>Priority</th>
        <th>Reported Date</th>
    </tr>
    </thead>

    <tbody>
      <tr *ngFor="let x of tickets">
          <td><b><u><a href="/admin/ticket/detail/{{x._id}}/">{{x.ticketId}}</a></u></b></td>
          <td>{{x.resolution}}</td>
          <td>{{x.status}}</td>
          <td>{{x.dateSubmitted}}</td>
          <td>{{x.dateUpdate}}</td>
          <td>{{x.priority}}</td>
          <td>{{x.issue}}</td>
      </tr>
    
      </tbody>

      </table>

</div> -->

<!-- 
<div>

  <table datatable id="table" class="row-border hover">
    <thead>
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Application</th>
        <th>Type</th>
        <th>Status</th>
        <th>Priority</th>
        <th>Reported Date</th>
    </tr>
    </thead>

    <tbody>
      <tr *ngFor="let x of tickets">
          <td><b><u><a href="/admin/ticket/detail/{{x._id}}/">{{x.ticketId}}</a></u></b></td>
          <td>{{x.resolution}}</td>
          <td>{{x.status}}</td>
          <td>{{x.dateSubmitted}}</td>
          <td>{{x.dateUpdate}}</td>
          <td>{{x.priority}}</td>
          <td>{{x.issue}}</td>
      </tr>
    
      </tbody>

      </table>

</div>  -->


<!-- 
<div class="container">
    <div class="row">
      <div class="col-xs-12 col-sm-10 col-md-8 col-sm-offset-1 col-md-offset-2">
        <input type="text" [(ngModel)]="filteredStatus">
        <br>

        <br><br>
        <h2>App Status:</h2>
        <hr>
        <ul class="list-group">
          <li
            class="list-group-item"
            *ngFor="let ticket of tickets | filter:filteredStatus:'issue'"
            [ngClass]="getStatusClasses(ticket)">
            <span
              class="badge">
              {{ ticket.status }}
            </span>
            <strong>{{ ticket._id }}</strong> |
            {{ ticket.resolution }} |
            {{ ticket.issue }}
          </li>
        </ul>
      </div>
    </div>
  </div> -->

<!-- 
after

  <div class="container">

      <div class="row col-md-8 col-md-offset-2">
    
        <div class="options">
    
          <div class="records">
            Records: 
            <select (change)="changeRowCount()" [(ngModel)]="rowCount" class="selectBox">
              <option value="20" selected>20</option>
              <option value="40">40</option>
              <option value="60">60</option>
              <option value="80">80</option>
              <option value="100">100</option>
              <option [value]="totalRowCount">All</option>
            </select>
          </div>
    
          <div class="search">
            Search: <input (keyup)="getTickets()" [(ngModel)]="searchText" class="searchBox" type="text"/>
          </div>
    
        </div>
    
        <table class="table table-hover">
    
          <thead>
            <tr>
              <th>#</th>
              <th><span (click)="toggleResolutionOrder($event)" class="pointer">resolution <i></i></span></th>
              <th><span (click)="toggleTicketIdOrder($event)" class="pointer">ticketId <i></i></span></th>
              <th><span (click)="toggleStatusOrder($event)" class="pointer">status <i></i></span></th>
            </tr>
          </thead>
    
          <tbody>
            <tr *ngIf="tickets.length == 0">
              <td colspan="4" align="center" valign="middle">
                No Records Found.
              </td>
            </tr>
            <tr *ngFor="let ticket of tickets; let i = index;">
              <td>{{i+1+offset}}</td>
              <td>{{ticket.resolution}}</td>
              <td>{{ticket.ticketId}}</td>
              <td>{{ticket.status}}</td>
            </tr>
          </tbody>
    
        </table>
    
        <div>
    
          <nav *ngIf="tickets.length != 0 && searchEmpty" class="paginationWrapper">
            <ul class="pagination">
              <li class="disabled"><span>&laquo;</span></li> 
                       <li [class.active]="i == currentPage" (click)="changeOffset(i, $event)" *ngFor="let i of getNumber(totalPages)"><a>{{i}}</a></li>
             <li><span>&raquo;</span></li> 
            </ul>
          </nav>
    
        </div>
    
      </div>
    
    </div>

    before -->


    <div class="search-div">
      <button mat-raised-button>
        <mat-icon>add</mat-icon>Create
      </button>
      <!-- <mat-form-field class="search-form-field" floatLabel="never">
        <input matInput [(ngModel)]="searchKey" placeholder="Search" autocomplete="off" (keyup)="applyFilter()">
        <button mat-button matSuffix mat-icon-button aria-label="Clear"*ngIf="searchKey"  (click)="onSearchClear()">
          <mat-icon>close</mat-icon>
        </button> -->
      </mat-form-field>
    </div>
    <div class="mat-elevation-z8">
      <mat-table [dataSource]="listData"  matSort>

        <ng-container matColumnDef="resolution">
          <mat-header-cell *matHeaderCellDef  mat-sort-header>resolution</mat-header-cell>
          <mat-cell *matCellDef="let element">{{element.resolution}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="status">
          <mat-header-cell *matHeaderCellDef  mat-sort-header>status</mat-header-cell>
          <mat-cell *matCellDef="let element">{{element.status}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="_id">
          <mat-header-cell *matHeaderCellDef mat-sort-header>_id</mat-header-cell>
          <mat-cell *matCellDef="let element">{{element._id}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="dateSubmitted">
          <mat-header-cell *matHeaderCellDef mat-sort-header>dateSubmitted</mat-header-cell>
          <mat-cell *matCellDef="let element">{{element.dateSubmitted}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="dateUpdate">
          <mat-header-cell *matHeaderCellDef mat-sort-header>dateUpdate</mat-header-cell>
          <mat-cell *matCellDef="let element">{{element.dateUpdate}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="actions">
          <mat-header-cell *matHeaderCellDef></mat-header-cell>
          <mat-cell *matCellDef="let row">
            <button mat-icon-button><mat-icon>launch</mat-icon></button>
            <button mat-icon-button color="warn"><mat-icon>delete_outline</mat-icon></button>
          </mat-cell>
        </ng-container>
        <ng-container matColumnDef="loading">

          <mat-footer-cell *matFooterCellDef colspan="6">
            Loading data...
          </mat-footer-cell>
        </ng-container>
        <ng-container matColumnDef="noData">
          <mat-footer-cell *matFooterCellDef colspan="6">
            No data.
          </mat-footer-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide':listData!=null}"></mat-footer-row>
        <mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide':!(listData!=null && listData.data.length==0)}"></mat-footer-row>
      </mat-table>
      <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" [pageSize]="5" showFirstLastButtons></mat-paginator>
    </div>